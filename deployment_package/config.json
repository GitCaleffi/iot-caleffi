{
  "iot_hub": {
    "connection_string": "HostName=CaleffiIoT.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=5wAebNkJEH3qI3WQ8MIXMp3Yj70z68l9vAIoTMDkEyQ=",
    "deviceId": "auto-generated-from-barcode",
    "dps_id_scope": "0ne00A300C1",
    "device_registry_url": "https://CaleffiIoT.azure-devices.net",
    "api_key": "5wAebNkJEH3qI3WQ8MIXMp3Yj70z68l9vAIoTMDkEyQ=",
    "devices": {
      "bddbc9d1cdf2": {
        "connection_string": "HostName=CaleffiIoT.azure-devices.net;DeviceId=bddbc9d1cdf2;SharedAccessKey=xWHZreQkrEYg4jsOoLNXbM+h0ppnAXm7iX+GEVRZZkM=",
        "deviceId": "bddbc9d1cdf2"
      },
      "4bc29732926c": {
        "connection_string": "HostName=CaleffiIoT.azure-devices.net;DeviceId=4bc29732926c;SharedAccessKey=NjFtR6wuhLDf7HfoWbch4HwUoVgWS8m+uwr30t83UPA=",
        "deviceId": "4bc29732926c"
      }
    }
  },
  "barcode_scanner": {
    "scanner_type": "Handreader",
    "scan_timeout": 5000
  },
  "api": {
    "base_url": "https://api2.caleffionline.it/api/v1",
    "timeout": 30
  },
  "web_server": {
    "host": "0.0.0.0",
    "port": 5000,
    "debug": false
  },
  "database": {
    "path": "barcode_scans.db"
  },
  "deployment": {
    "mode": "commercial",
    "auto_device_registration": true,
    "device_prefix": "scanner"
  },
  "logging": {
    "level": "INFO",
    "file": "barcode_scanner.log"
  },
  "raspberry_pi": {
    "dynamic_discovery": true,
    "remote_connectivity_monitoring": true,
    "auto_registration": true,
    "server_urls": [
      "https://iot.caleffionline.it"
    ],
    "auto_detected_ip": "192.168.1.18",
    "last_detection": "2025-09-10T15:03:26.810544",
    "status": "connected",
    "force_detection": false,
    "scan_ips": [
      "192.168.1.18",
      "192.168.1.100",
      "192.168.1.101",
      "10.198.0.18"
    ],
    "connectivity_methods": {
      "tcp": {
        "ports": {
          "22": true,
          "5000": false,
          "80": true
        },
        "any_port_open": true
      },
      "ping": {
        "reachable": true,
        "output": "PING 192.168.1.18 (192.168.1.18) 56(84) bytes of data.\n64 bytes from 192.168.1.18: icmp_seq=1 ttl=64 time=0.145 ms\n\n--- 192.168.1.18 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.145/0.145/0.145/0.000 ms\n"
      },
      "http": {
        "accessible": true,
        "services": {
          "http://192.168.1.18:5000": {
            "accessible": false,
            "error": "HTTPConnectionPool(host='192.168.1.18', port=5000): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72650d2ee0b0>: Failed to establish a new connection: [Errno 111] Connection refused'))"
          },
          "http://192.168.1.18:80": {
            "accessible": true,
            "status_code": 200
          },
          "https://192.168.1.18:443": {
            "accessible": false,
            "error": "HTTPSConnectionPool(host='192.168.1.18', port=443): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7264fc630a30>: Failed to establish a new connection: [Errno 111] Connection refused'))"
          },
          "http://192.168.1.18:8080": {
            "accessible": false,
            "error": "HTTPConnectionPool(host='192.168.1.18', port=8080): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7264fc633190>: Failed to establish a new connection: [Errno 111] Connection refused'))"
          }
        }
      },
      "ssh": {
        "accessible": true,
        "port": 22
      }
    },
    "last_disconnect": "2025-09-04T16:44:14.958340"
  }
}